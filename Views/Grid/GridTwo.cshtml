@{
    ViewBag.Title = "GridTwo";
}
<!-- http://jsfiddle.net/QGzj9/120/ -->
<!doctype html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <title>jQuery UI Selectable - Display as grid</title>
    <style>
        #feedback {
            font-size: 1.4em;
        }

        #selectable .ui-selecting {
            background: #FECA40;
        }



        #selectable .ui-selected {
            background: #512888;
            color: white;
        }

        #selectable {
            list-style-type: none;
            margin: 0;
            padding: 0;
            width: 450px;
        }

            #selectable li {
                margin: 3px;
                padding: 1px;
                float: left;
                width: 100px;
                height: 80px;
                font-size: 4em;
                text-align: center;
            }

                    .ui-state-default[dataOn=true]{
	background-color: #512888;
}

.select-square{
	background-color:rgba(0,255,0,0.3);
	position:absolute;
}
    </style>
    <script>



  $(function() {
/*
      var _selectRange = false, _deselectQueue = [];
      $(function () {
          $("#selectable").selectable({
              selecting: function (event, ui) {
                  if (event.detail == 0) {
                      _selectRange = true;
                      return true;
                  }
                  if ($(ui.selecting).hasClass('ui-selected')) {
                      _deselectQueue.push(ui.selecting);
                  }
              },
              unselecting: function (event, ui) {
                  $(ui.unselecting).addClass('ui-selected');
              },
              stop: function () {
                  if (!_selectRange) {
                      $.each(_deselectQueue, function (ix, de) {
                          $(de)
                              .removeClass('ui-selecting')
                              .removeClass('ui-selected');
                      });
                  }
                  _selectRange = false;
                  _deselectQueue = [];
              }
          });
      });
      */
  });
    </script>
</head>
<body>
        <div class="select-square" id="selectSquare"></div>

    <ol id="selectable">
        <li class="ui-state-default">1</li>
        <li class="ui-state-default">2</li>
        <li class="ui-state-default">3</li>
        <li class="ui-state-default">4</li>
        <li class="ui-state-default">5</li>
        <li class="ui-state-default">6</li>
        <li class="ui-state-default">7</li>
        <li class="ui-state-default">8</li>
        <li class="ui-state-default">9</li>
        <li class="ui-state-default">10</li>
        <li class="ui-state-default">11</li>
        <li class="ui-state-default">12</li>
    </ol>

<script>


        (function () {

                var isDragging = false;

                var container = document.getElementById("selectable");
              
                var selectSquare = document.getElementById("selectSquare");

               
                var children = [].slice.call(container.childNodes).filter(function (node) {
                        return node.nodeName == "LI";
                });

                var boundingBoxes = children.map(function (node, index) {

                        return { x: node.offsetLeft + .5 * node.offsetWidth, y: node.offsetTop + .5 * node.offsetHeight, width: node.offsetWidth, height: node.offsetHeight, index: index };

                });

                

                var dragStart = null;


                addEventListener("mousedown", function (event) {
                        event.preventDefault();
                        dragStart = { x: event.clientX, y: event.clientY };
                        selectSquare.style.left = event.clientX + 'px';
                        selectSquare.style.top = event.clientY + 'px';
                        selectSquare.style.width = 0;
                        selectSquare.style.height = 0;
                        isDragging = true;
                        selectSquare.style.display = "block";

                });

                addEventListener("mouseup", function (event) {
                        selectSquare.style.display = "none";
                        var dragEnd = { x: event.clientX, y: event.clientY };

                        var maxX = Math.max(dragEnd.x, dragStart.x);
                        var minX = Math.min(dragEnd.x, dragStart.x);
                        var maxY = Math.max(dragEnd.y, dragStart.y);
                        var minY = Math.min(dragEnd.y, dragStart.y);

                        console.log(maxX, maxY, minX, minY);
                        var selectedEls = boundingBoxes.filter(function (ele) {
                                console.log(ele.x, maxX, minX);

                                if (maxX < ele.x || (minX > ele.x) || (maxY < ele.y) || (minY > ele.y)) {
                                        return false;
                                }
                                return true;
                        });

                        selectedEls.forEach(function (item) {
                                children[item.index].setAttribute("dataOn", true);
                        });

                        isDragging = false;
                });

                addEventListener("mousemove", function (event) {
                        
                        if (isDragging === false) {
                                return;
                        }

                        var minX = Math.min(event.clientX, dragStart.x);
                        var maxX = Math.max(event.clientX, dragStart.x);
                        var minY = Math.min(event.clientY, dragStart.y);
                        var maxY = Math.max(event.clientY, dragStart.y);

                        selectSquare.style.left = minX + 'px';
                        selectSquare.style.top = minY + 'px';
                        selectSquare.style.width = (maxX - minX) + 'px';
                        selectSquare.style.height = (maxY - minY) + 'px';

                });


                window.ondragstart = function () {
                        return false;
                };
				
			

        })();

</script>
</body>
</html>



